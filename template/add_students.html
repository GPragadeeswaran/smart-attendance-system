<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>College Student Entry Form</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/add_students.css') }}">

    <style>
        /* FLASH MESSAGE STYLES */

        .flash-container {
            width: 90%;
            max-width: 700px;
            margin: 15px auto;
        }

        .flash {
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            font-weight: 600;
            text-align: center;
        }

        .flash.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .flash.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>


<body>

<!-- NAVBAR -->
<div class="navbar">
    <div class="logo">üè´ College Name</div>

    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/studentslist">Students List</a></li>
        <li><a class="active" href="/add_students">Add Students</a></li>
        <li><a href="/attendance">Attendance Entry</a></li>
        <li>üîçÔ∏é</li>
    </ul>
</div>


<!-- FLASH MESSAGES -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-container">
      {% for category, message in messages %}
        <div class="flash {{ category }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}


<!-- HEADER -->
<div class="header">
    <h1>College Student Entry Form</h1>
</div>


<!-- FORM CARD -->
<div class="card">

    <form id="studentForm" method="POST" enctype="multipart/form-data">


        <!-- FULL NAME -->
        <div class="form-group">
            <label>Full Name:</label>
            <input type="text" name="full_name" required>
        </div>


        <!-- DOB -->
        <div class="form-group dob">
            <label>Date of Birth:</label>

            <select name="day" required>
                <option value="">Day</option>
                {% for d in range(1, 32) %}
                <option value="{{ d }}">{{ d }}</option>
                {% endfor %}
            </select>

            <select name="month" required>
                <option value="">Month</option>
                <option value="01">January</option>
                <option value="02">February</option>
                <option value="03">March</option>
                <option value="04">April</option>
                <option value="05">May</option>
                <option value="06">June</option>
                <option value="07">July</option>
                <option value="08">August</option>
                <option value="09">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>

            <select name="year" required>
                <option value="">Year</option>
                {% for y in range(1980, 2026) %}
                <option value="{{ y }}">{{ y }}</option>
                {% endfor %}
            </select>
        </div>


        <!-- STUDENT ID -->
        <div class="form-group">
            <label>Student ID:</label>
            <input type="number" name="student_id" required>
        </div>


        <!-- EMAIL -->
        <div class="form-group">
            <label>Email Address:</label>
            <input type="email" name="email" required>
        </div>


        <!-- PHONE -->
        <div class="form-group">
            <label>Phone Number:</label>
            <input type="tel" name="phone">
        </div>


        <!-- ADDRESS -->
        <div class="form-group">
            <label>Address:</label>
            <textarea name="address"></textarea>
        </div>


        <!-- COURSE -->
        <div class="form-group">
            <label>Select Course:</label>

            <select name="course" required>
                <option value="">Choose Course</option>
                <option>B.E</option>
                <option>B.Tech</option>
                <option>MCA</option>
                <option>MBA</option>
            </select>
        </div>


        <!-- RESUME UPLOAD -->
        <div class="upload-container">

            <label class="upload-label">Upload Resume:</label>

            <div class="upload-wrapper">

                <label for="resumeUpload" class="upload-btn">
                    Upload Resume
                </label>

                <span id="fileName">No file selected</span>

                <input
                    type="file"
                    id="resumeUpload"
                    name="resume"
                    hidden
                    required
                >
            </div>

        </div>


        <!-- BUTTONS -->
        <div class="buttons">
            <button type="submit" class="submit">Submit</button>
            <button type="reset" class="reset">Reset</button>
        </div>

    </form>

</div>


<!-- JS -->
<script>

document.addEventListener("DOMContentLoaded", function () {

    const resumeUpload = document.getElementById("resumeUpload");
    const fileNameDisplay = document.getElementById("fileName");


    // Show selected file name
    resumeUpload.addEventListener("change", function () {

        if (this.files.length > 0) {
            fileNameDisplay.textContent = this.files[0].name;
        } else {
            fileNameDisplay.textContent = "No file selected";
        }

    });


    // Auto hide flash message after 3 seconds
    setTimeout(() => {

        const flashes = document.querySelectorAll(".flash");

        flashes.forEach(msg => {
            msg.style.display = "none";
        });

    }, 3000);

});

</script>

</body>
</html>
